ylab("Proportion de\nréponses neutres") +
clessnverse::theme_clean_light() +
scale_color_manual(values = c("Québec" = "lightblue",
"ROC" = "darkred")) +
scale_x_continuous(breaks = c(seq(1990, 2025, by = 5)))
ggsave("_SharedFolder_memoire-pot-growth/graphs/explo/prop_neutres.png",
width = 10, height = 7)
ggsave("_SharedFolder_memoire-pot-growth/graphs/explo/prop_neutres.png",
width = 10, height = 5)
ggsave("_SharedFolder_memoire-pot-growth/graphs/explo/prop_neutres.png",
width = 8, height = 4)
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n()) %>%
group_by(year, quebec, name) %>%
mutate(total = sum(n),
prop = n/total*100)
View(agg)
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n()) %>%
mutate(position = case_when(
value %in% c(0, 0.25) ~ 0,
value == 0.5 ~ 0.5,
value %in% c(0.75, 1) ~ 1
))
View(agg)
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n()) %>%
mutate(position = case_when(
value %in% c(0, 0.25) ~ 0,
value == 0.5 ~ 0.5,
value %in% c(0.75, 1) ~ 1
),
value2 = n*value)
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n()) %>%
mutate(position = case_when(
value %in% c(0, 0.25) ~ 0,
value == 0.5 ~ 0.5,
value %in% c(0.75, 1) ~ 1
)) %>%
group_by(year, quebec, name, position) %>%
mutate(value2 = n*value)
View(agg)
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n()) %>%
mutate(position = case_when(
value %in% c(0, 0.25) ~ 0,
value == 0.5 ~ 0.5,
value %in% c(0.75, 1) ~ 1
)) %>%
group_by(year, quebec, name, position) %>%
mutate(n_position = sum(n))#,
96/544
0.17*0+0.83*0.25
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n()) %>%
mutate(position = case_when(
value %in% c(0, 0.25) ~ 0,
value == 0.5 ~ 0.5,
value %in% c(0.75, 1) ~ 1
)) %>%
group_by(year, quebec, name, position) %>%
mutate(prop_position = n/sum(n))#,
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n()) %>%
mutate(position = case_when(
value %in% c(0, 0.25) ~ 0,
value == 0.5 ~ 0.5,
value %in% c(0.75, 1) ~ 1
)) %>%
group_by(year, quebec, name, position) %>%
mutate(prop_position = n/sum(n),
value2 = prop_position*value)
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n()) %>%
mutate(position = case_when(
value %in% c(0, 0.25) ~ 0,
value == 0.5 ~ 0.5,
value %in% c(0.75, 1) ~ 1
)) %>%
group_by(year, quebec, name, position) %>%
mutate(prop_position = n/sum(n),
value2 = prop_position*value,
sum = sum(value2))
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n()) %>%
mutate(position = case_when(
value %in% c(0, 0.25) ~ 0,
value == 0.5 ~ 0.5,
value %in% c(0.75, 1) ~ 1
)) %>%
group_by(year, quebec, name, position) %>%
mutate(prop_position = n/sum(n),
value2 = prop_position*value) %>%
summarise(value3 = sum(value2))
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n()) %>%
mutate(position = case_when(
value %in% c(0, 0.25) ~ 0,
value == 0.5 ~ 0.5,
value %in% c(0.75, 1) ~ 1
)) %>%
group_by(year, quebec, name, position) %>%
mutate(prop_position = n/sum(n),
value2 = prop_position*value)
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n()) %>%
mutate(position = case_when(
value %in% c(0, 0.25) ~ 0,
value == 0.5 ~ 0.5,
value %in% c(0.75, 1) ~ 1
)) %>%
group_by(year, quebec, name, position) %>%
mutate(prop_position = n/sum(n),
value2 = prop_position*value,
value3 = sum(value2))
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n()) %>%
mutate(position = case_when(
value %in% c(0, 0.25) ~ 0,
value == 0.5 ~ 0.5,
value %in% c(0.75, 1) ~ 1
)) %>%
group_by(year, quebec, name, position) %>%
mutate(prop_position = n/sum(n),
value2 = prop_position*value,
value3 = sum(value2)) %>%
group_by(year, quebec, name) %>%
mutate(total = sum(n),
prop = n/total*100)
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n())
# 1. % of neutral ---------------------------------------------------------
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n()) %>%
group_by(year, quebec, name) %>%
mutate(total = sum(n),
prop = n/total*100)
View(agg)
agg %>%
filter(value %in% c(0.75, 1)) %>%
mutate(name = case_when(
name == "issGapRichPoorALL" ~ "Faire +\nRéduire gap riches-pauvres",
name == "issWomDoneALL" ~ "Faire +\npour les femmes",
name == "issQcDoneALL" ~ "Faire +\npour le Québec"
),
quebec = ifelse(quebec == 1, "Québec", "ROC")) %>%
ggplot(aes(x = year, y = prop))
agg %>%
filter(value %in% c(0.75, 1)) %>%
mutate(name = case_when(
name == "issGapRichPoorALL" ~ "Faire +\nRéduire gap riches-pauvres",
name == "issWomDoneALL" ~ "Faire +\npour les femmes",
name == "issQcDoneALL" ~ "Faire +\npour le Québec"
),
quebec = ifelse(quebec == 1, "Québec", "ROC")) %>%
ggplot(aes(x = year, y = prop)) +
geom_point(aes(color = quebec))
agg %>%
filter(value %in% c(0.75, 1)) %>%
mutate(name = case_when(
name == "issGapRichPoorALL" ~ "Faire +\nRéduire gap riches-pauvres",
name == "issWomDoneALL" ~ "Faire +\npour les femmes",
name == "issQcDoneALL" ~ "Faire +\npour le Québec"
),
quebec = ifelse(quebec == 1, "Québec", "ROC")) %>%
ggplot(aes(x = year, y = prop)) +
geom_point(aes(color = quebec)) +
geom_line(aes(group = interaction(name, quebec),
color = quebec))
agg %>%
filter(value %in% c(0.75, 1)) %>%
mutate(name = case_when(
name == "issGapRichPoorALL" ~ "Faire +\nRéduire gap riches-pauvres",
name == "issWomDoneALL" ~ "Faire +\npour les femmes",
name == "issQcDoneALL" ~ "Faire +\npour le Québec"
),
quebec = ifelse(quebec == 1, "Québec", "ROC")) %>%
ggplot(aes(x = year, y = prop)) +
geom_point(aes(color = quebec)) +
geom_line(aes(group = interaction(name, quebec),
color = quebec)) +
facet_wrap(~name)
agg %>%
filter(value %in% c(0.75, 1)) %>%
mutate(name = case_when(
name == "issGapRichPoorALL" ~ "Faire +\nRéduire gap riches-pauvres",
name == "issWomDoneALL" ~ "Faire +\npour les femmes",
name == "issQcDoneALL" ~ "Faire +\npour le Québec"
),
quebec = ifelse(quebec == 1, "Québec", "ROC")) %>%
ggplot(aes(x = year, y = prop)) +
geom_point(aes(color = quebec)) +
geom_line(aes(group = interaction(name, quebec, value),
color = quebec))
agg %>%
filter(value %in% c(0.75, 1)) %>%
mutate(name = case_when(
name == "issGapRichPoorALL" ~ "Faire +\nRéduire gap riches-pauvres",
name == "issWomDoneALL" ~ "Faire +\npour les femmes",
name == "issQcDoneALL" ~ "Faire +\npour le Québec"
),
quebec = ifelse(quebec == 1, "Québec", "ROC")) %>%
ggplot(aes(x = year, y = prop)) +
geom_point(aes(color = quebec)) +
geom_line(aes(group = interaction(name, quebec, value),
color = quebec)) +
facet_wrap(~name)
agg %>%
filter(value %in% c(0.75, 1)) %>%
mutate(name = case_when(
name == "issGapRichPoorALL" ~ "Faire +\nRéduire gap riches-pauvres",
name == "issWomDoneALL" ~ "Faire +\npour les femmes",
name == "issQcDoneALL" ~ "Faire +\npour le Québec"
),
quebec = ifelse(quebec == 1, "Québec", "ROC")) %>%
ggplot(aes(x = year, y = prop)) +
geom_point(aes(color = quebec,
alpha = value)) +
geom_line(aes(group = interaction(name, quebec, value),
color = quebec,
alpha = value)) +
facet_wrap(~name) +
ylab("Proportion de\nréponses") +
clessnverse::theme_clean_light() +
scale_color_manual(values = c("Québec" = "lightblue",
"ROC" = "darkred")) +
scale_alpha_continuous(range = c(0.2, 1)) +
scale_x_continuous(breaks = c(seq(1990, 2025, by = 5)))
agg %>%
filter(value %in% c(0.75, 1)) %>%
mutate(name = case_when(
name == "issGapRichPoorALL" ~ "Faire +\nRéduire gap riches-pauvres",
name == "issWomDoneALL" ~ "Faire +\npour les femmes",
name == "issQcDoneALL" ~ "Faire +\npour le Québec"
),
value = as.character(value),
quebec = ifelse(quebec == 1, "Québec", "ROC")) %>%
ggplot(aes(x = year, y = prop)) +
geom_point(aes(color = quebec,
alpha = value)) +
geom_line(aes(group = interaction(name, quebec, value),
color = quebec,
alpha = value)) +
facet_wrap(~name) +
ylab("Proportion de\nréponses") +
clessnverse::theme_clean_light() +
scale_color_manual(values = c("Québec" = "lightblue",
"ROC" = "darkred")) +
scale_alpha_discrete(range = c(0.2, 1)) +
scale_x_continuous(breaks = c(seq(1990, 2025, by = 5)))
agg %>%
filter(value %in% c(0.75, 1)) %>%
mutate(name = case_when(
name == "issGapRichPoorALL" ~ "Faire +\nRéduire gap riches-pauvres",
name == "issWomDoneALL" ~ "Faire +\npour les femmes",
name == "issQcDoneALL" ~ "Faire +\npour le Québec"
),
value = ifelse(value == 1, "Fortement en faveur", "Modérément en faveur"),
quebec = ifelse(quebec == 1, "Québec", "ROC")) %>%
ggplot(aes(x = year, y = prop)) +
geom_point(aes(color = quebec,
alpha = value)) +
geom_line(aes(group = interaction(name, quebec, value),
color = quebec,
alpha = value)) +
facet_wrap(~name) +
ylab("Proportion de\nréponses") +
clessnverse::theme_clean_light() +
scale_color_manual(values = c("Québec" = "lightblue",
"ROC" = "darkred")) +
scale_alpha_discrete(range = c(0.2, 1)) +
scale_x_continuous(breaks = c(seq(1990, 2025, by = 5)))
agg %>%
filter(value %in% c(0.75, 1)) %>%
mutate(name = case_when(
name == "issGapRichPoorALL" ~ "Faire +\nRéduire gap riches-pauvres",
name == "issWomDoneALL" ~ "Faire +\npour les femmes",
name == "issQcDoneALL" ~ "Faire +\npour le Québec"
),
value = ifelse(value == 1, "Fortement en faveur",
"Modérément en faveur"),
value = factor(value, levels = c("Modérément en faveur",
"Fortement en faveur")),
quebec = ifelse(quebec == 1, "Québec", "ROC")) %>%
ggplot(aes(x = year, y = prop)) +
geom_point(aes(color = quebec,
alpha = value)) +
geom_line(aes(group = interaction(name, quebec, value),
color = quebec,
alpha = value)) +
facet_wrap(~name) +
ylab("Proportion de\nréponses") +
clessnverse::theme_clean_light() +
scale_color_manual(values = c("Québec" = "lightblue",
"ROC" = "darkred")) +
scale_alpha_discrete(range = c(0.2, 1)) +
scale_x_continuous(breaks = c(seq(1990, 2025, by = 5)))
ggsave("_SharedFolder_memoire-pot-growth/graphs/explo/prop_faveur.png",
width = 8, height = 4)
agg %>%
filter(value %in% c(0.75, 1)) %>%
mutate(name = case_when(
name == "issGapRichPoorALL" ~ "Faire +\nRéduire gap riches-pauvres",
name == "issWomDoneALL" ~ "Faire +\npour les femmes",
name == "issQcDoneALL" ~ "Faire +\npour le Québec"
),
value = ifelse(value == 1, "Fortement en faveur",
"Modérément en faveur"),
value = factor(value, levels = c("Modérément en faveur",
"Fortement en faveur")),
quebec = ifelse(quebec == 1, "Québec", "ROC")) %>%
ggplot(aes(x = year, y = prop)) +
geom_point(aes(color = quebec,
alpha = value)) +
geom_line(aes(group = interaction(name, quebec, value),
color = quebec,
alpha = value)) +
facet_wrap(~name) +
ylab("Proportion de\nréponses") +
clessnverse::theme_clean_light() +
scale_color_manual(values = c("Québec" = "lightblue",
"ROC" = "darkred")) +
scale_alpha_discrete(range = c(0.6, 1)) +
scale_x_continuous(breaks = c(seq(1990, 2025, by = 5)))
ggsave("_SharedFolder_memoire-pot-growth/graphs/explo/prop_faveur.png",
width = 8, height = 4)
agg %>%
filter(value %in% c(0.75, 1)) %>%
mutate(name = case_when(
name == "issGapRichPoorALL" ~ "Faire +\nRéduire gap riches-pauvres",
name == "issWomDoneALL" ~ "Faire +\npour les femmes",
name == "issQcDoneALL" ~ "Faire +\npour le Québec"
),
value = ifelse(value == 1, "Fortement en faveur",
"Modérément en faveur"),
value = factor(value, levels = c("Modérément en faveur",
"Fortement en faveur")),
quebec = ifelse(quebec == 1, "Québec", "ROC")) %>%
ggplot(aes(x = year, y = prop)) +
geom_point(aes(color = quebec,
alpha = value)) +
geom_line(aes(group = interaction(name, quebec, value),
color = quebec,
alpha = value)) +
facet_wrap(~name) +
ylab("Proportion de\nréponses") +
clessnverse::theme_clean_light() +
scale_color_manual(values = c("Québec" = "lightblue",
"ROC" = "darkred")) +
scale_alpha_discrete(range = c(0.45, 1)) +
scale_x_continuous(breaks = c(seq(1990, 2025, by = 5)))
ggsave("_SharedFolder_memoire-pot-growth/graphs/explo/prop_faveur.png",
width = 8, height = 4)
agg %>%
filter(value %in% c(0.75, 1)) %>%
mutate(name = case_when(
name == "issGapRichPoorALL" ~ "Faire +\nRéduire gap riches-pauvres",
name == "issWomDoneALL" ~ "Faire +\npour les femmes",
name == "issQcDoneALL" ~ "Faire +\npour le Québec"
),
value = ifelse(value == 1, "Fortement en faveur",
"Modérément en faveur"),
value = factor(value, levels = c("Modérément en faveur",
"Fortement en faveur")),
quebec = ifelse(quebec == 1, "Québec", "ROC")) %>%
ggplot(aes(x = year, y = prop)) +
geom_point(aes(color = quebec,
alpha = value)) +
geom_line(aes(group = interaction(name, quebec, value),
color = quebec,
alpha = value)) +
facet_wrap(~name) +
ylab("Proportion de\nréponses") +
clessnverse::theme_clean_light() +
scale_color_manual(values = c("Québec" = "lightblue",
"ROC" = "darkred")) +
scale_alpha_discrete(range = c(0.35, 1)) +
scale_x_continuous(breaks = c(seq(1990, 2025, by = 5)))
ggsave("_SharedFolder_memoire-pot-growth/graphs/explo/prop_faveur.png",
width = 8, height = 4)
# 1. % of neutral ---------------------------------------------------------
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL, issImmgAdmitALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n()) %>%
group_by(year, quebec, name) %>%
mutate(total = sum(n),
prop = n/total*100)
agg %>%
filter(value == 0.5) %>%
mutate(name = case_when(
name == "issGapRichPoorALL" ~ "Faire +\nRéduire gap riches-pauvres",
name == "issWomDoneALL" ~ "Faire +\npour les femmes",
name == "issQcDoneALL" ~ "Faire +\npour le Québec"
),
quebec = ifelse(quebec == 1, "Québec", "ROC")) %>%
ggplot(aes(x = year, y = prop)) +
geom_point(aes(color = quebec)) +
geom_line(aes(group = interaction(name, quebec),
color = quebec)) +
facet_wrap(~name) +
ylab("Proportion de\nréponses neutres") +
clessnverse::theme_clean_light() +
scale_color_manual(values = c("Québec" = "lightblue",
"ROC" = "darkred")) +
scale_x_continuous(breaks = c(seq(1990, 2025, by = 5)))
ggsave("_SharedFolder_memoire-pot-growth/graphs/explo/prop_neutres.png",
width = 8, height = 4)
# 1. % of neutral ---------------------------------------------------------
agg <- d %>%
select(year, quebec, issQcDoneALL,
issWomDoneALL, issGapRichPoorALL) %>%
pivot_longer(cols = starts_with("iss")) %>%
drop_na() %>%
group_by(year, quebec, name, value) %>%
summarise(n = n()) %>%
group_by(year, quebec, name) %>%
mutate(total = sum(n),
prop = n/total*100)
agg %>%
filter(value == 0.5) %>%
mutate(name = case_when(
name == "issGapRichPoorALL" ~ "Faire +\nRéduire gap riches-pauvres",
name == "issWomDoneALL" ~ "Faire +\npour les femmes",
name == "issQcDoneALL" ~ "Faire +\npour le Québec"
),
quebec = ifelse(quebec == 1, "Québec", "ROC")) %>%
ggplot(aes(x = year, y = prop)) +
geom_point(aes(color = quebec)) +
geom_line(aes(group = interaction(name, quebec),
color = quebec)) +
facet_wrap(~name) +
ylab("Proportion de\nréponses neutres") +
clessnverse::theme_clean_light() +
scale_color_manual(values = c("Québec" = "lightblue",
"ROC" = "darkred")) +
scale_x_continuous(breaks = c(seq(1990, 2025, by = 5)))
hist(d$issImmgDoneALL)
